// Atom parsers
dateIntAtom
 paint constant.numeric.integer
monthIntAtom dateIntAtom
integerAtom
 regex \d+
yearIntAtom dateIntAtom
dayIntAtom dateIntAtom
timeIntAtom integerAtom
 paint constant.numeric.integer
anyAtom
symbolAtom
memoryDescriptionAtom
 paint string
eventTypeAtom
 enum ğŸ’© âœ¨ ğŸ¼ ğŸ˜´ ğŸ˜€ â¤ï¸

// Line parsers
poopParser
 description POOP is the Programming Option for Overtired Parents. It is a Language for sleep deprived parents to log their child's bathroom, feeding, and sleep events and compile them to CSV. You can use POOP with computers or pen and paper. Each line records an event, a time, and optionally notes. POOP is an anyfix language. You can put the time first or the event type first. You can write the actual symbols, or, if it is 3am, you can just use some of the natural medium to record the event type.
 root
 tags nonPrefixParsers
 javascript
  compile() {
   let day = ""
   let lastTime = ""
   const rows = this.topDownArray
    .map(particle => {
     if (particle.doesExtend("dayParser")) {
      day = particle.getDay()
      return undefined
     }
     lastTime = !particle.getTime || particle.getTime() === undefined ? lastTime : particle.getTime()
     return particle.compile(day, lastTime)
    })
    .filter(identity => identity)
   return `date,time,event,notes\n` + rows.join("\n")
  }
 inScope abstractEventParser dayParser
 example
  ğŸŒ„ 8 29 2019
  ğŸ˜€ 4
  âœ¨ 6
  ğŸ’© 630
abstractEventParser
 atomParser omnifix
 atoms eventTypeAtom
 catchAllAtomType timeIntAtom
 javascript
  getTime() {
   const time = this.getLine().match(/(\d+)/)
   return time ? time[1] : undefined
  }
  getNotes() {
   return ""
  }
  compile(day, lastTime) {
   return `${day},${lastTime},${this.eventType},${this.getNotes()}`
  }
bowelParser abstractEventParser
 cue ğŸ’©
 pattern ğŸ’©
 description Bowel movement.
 string eventType bowelMovement
bladderParser abstractEventParser
 cue âœ¨
 pattern âœ¨
 description Bladder movement.
 string eventType bladderMovement
bottleParser abstractEventParser
 cue ğŸ¼
 pattern ğŸ¼
 description Feeding.
 string eventType feeding
sleep4Parser abstractEventParser
 cue ğŸ˜´
 pattern ğŸ˜´
 description Sleep.
 string eventType asleep
awakeParser abstractEventParser
 cue ğŸ˜€
 pattern ğŸ˜€
 description I'm awake!
 string eventType awoke
memoryParser abstractEventParser
 cue â¤ï¸
 pattern â¤ï¸
 atoms eventTypeAtom
 catchAllAtomType memoryDescriptionAtom
 description Special memory.
 string eventType memory
 javascript
  getNotes() {
   return Utils.removeNonAscii(this.getLine()).trim()
  }
dayParser
 cue ğŸŒ„
 description We survived another day!
 atoms symbolAtom monthIntAtom dayIntAtom yearIntAtom
 javascript
  getDay() {
   return Utils.removeNonAscii(this.getLine())
    .trim()
    .replace(/ /g, "/")
  }