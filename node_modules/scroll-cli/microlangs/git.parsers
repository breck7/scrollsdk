// https://git-scm.com/docs/git-config

abstractGitConfigParser
 extends abstractScrollParser
 cueFromId

# Identity settings
nameParser
 extends abstractGitConfigParser
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[user]\n\tname = ${this.getAtom(1)}`
  }

gitEmailParser
 extends abstractScrollParser
 cue email
 atoms cueAtom emailAddressAtom
 javascript
  buildTxt() {
   return `[user]\n\temail = ${this.getAtom(1)}`
  }

# Core settings
gitEditorParser
 extends abstractScrollParser
 cue editor
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[core]\n\teditor = ${this.getAtom(1)}`
  }

gitAutocrlfParser
 extends abstractScrollParser
 cue autocrlf
 atoms cueAtom booleanAtom
 javascript
  buildTxt() {
   return `[core]\n\tautocrlf = ${this.getAtom(1)}`
  }

gitFilesModeParser
 extends abstractScrollParser
 cue filesMode
 atoms cueAtom booleanAtom
 javascript
  buildTxt() {
   return `[core]\n\tfileMode = ${this.getAtom(1)}`
  }

gitPagerParser
 extends abstractScrollParser
 cue pager
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[core]\n\tpager = ${this.getAtom(1)}`
  }

# Init settings
gitDefaultBranchParser
 extends abstractScrollParser
 cue defaultBranch
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[init]\n\tdefaultBranch = ${this.getAtom(1)}`
  }

gitTemplateDirParser
 extends abstractScrollParser
 cue templateDir
 atoms cueAtom filePathAtom
 javascript
  buildTxt() {
   return `[init]\n\ttemplateDir = ${this.getAtom(1)}`
  }

# Remote settings
gitRemoteParser
 extends abstractScrollParser
 cue remote
 atoms cueAtom remoteNameAtom urlAtom
 javascript
  buildTxt() {
   const name = this.getAtom(1)
   const url = this.getAtom(2)
   return `[remote "${name}"]\n\turl = ${url}\n\tfetch = +refs/heads/*:refs/remotes/${name}/*`
  }

# Alias settings
gitAliasParser
 extends abstractScrollParser
 cue alias
 atoms cueAtom aliasNameAtom commandAtom
 javascript
  buildTxt() {
   const name = this.getAtom(1)
   const command = this.getAtom(2)
   return `[alias]\n\t${name} = ${command}`
  }

# Branch settings
gitBranchParser
 extends abstractScrollParser
 cue branch
 atoms cueAtom branchNameAtom stringAtom
 javascript
  buildTxt() {
   const name = this.getAtom(1)
   const value = this.getAtom(2)
   return `[branch "${name}"]\n\t${value}`
  }

# Pull settings
gitPullRebaseParser
 extends abstractScrollParser
 cue pullRebase
 atoms cueAtom booleanAtom
 javascript
  buildTxt() {
   return `[pull]\n\trebase = ${this.getAtom(1)}`
  }

gitPullFfParser
 extends abstractScrollParser
 cue pullFf
 atoms cueAtom pullOptionAtom
 javascript
  buildTxt() {
   return `[pull]\n\tff = ${this.getAtom(1)}`
  }

# Push settings
gitPushDefaultParser
 extends abstractScrollParser
 cue pushDefault
 atoms cueAtom pushOptionAtom
 javascript
  buildTxt() {
   return `[push]\n\tdefault = ${this.getAtom(1)}`
  }

gitPushFollowTagsParser
 extends abstractScrollParser
 cue pushFollowTags
 atoms cueAtom booleanAtom
 javascript
  buildTxt() {
   return `[push]\n\tfollowTags = ${this.getAtom(1)}`
  }

# Commit settings
gitCommitTemplateParser
 extends abstractScrollParser
 cue commitTemplate
 atoms cueAtom filePathAtom
 javascript
  buildTxt() {
   return `[commit]\n\ttemplate = ${this.getAtom(1)}`
  }

gitCommitGpgSignParser
 extends abstractScrollParser
 cue commitGpgSign
 atoms cueAtom booleanAtom
 javascript
  buildTxt() {
   return `[commit]\n\tgpgSign = ${this.getAtom(1)}`
  }

# Diff settings
gitDiffToolParser
 extends abstractScrollParser
 cue diffTool
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[diff]\n\ttool = ${this.getAtom(1)}`
  }

gitDiffAlgorithmParser
 extends abstractScrollParser
 cue diffAlgorithm
 atoms cueAtom diffAlgorithmAtom
 javascript
  buildTxt() {
   return `[diff]\n\talgorithm = ${this.getAtom(1)}`
  }

# Merge settings
gitMergeToolParser
 extends abstractScrollParser
 cue mergeTool
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[merge]\n\ttool = ${this.getAtom(1)}`
  }

gitMergeConflictStyleParser
 extends abstractScrollParser
 cue mergeConflictStyle
 atoms cueAtom conflictStyleAtom
 javascript
  buildTxt() {
   return `[merge]\n\tconflictStyle = ${this.getAtom(1)}`
  }

# Credential settings
gitCredentialHelperParser
 extends abstractScrollParser
 cue credentialHelper
 atoms cueAtom stringAtom
 javascript
  buildTxt() {
   return `[credential]\n\thelper = ${this.getAtom(1)}`
  }

gitCredentialTimeoutParser
 extends abstractScrollParser
 cue credentialTimeout
 atoms cueAtom integerAtom
 javascript
  buildTxt() {
   return `[credential]\n\ttimeout = ${this.getAtom(1)}`
  }

# HTTP settings
gitHttpProxyParser
 extends abstractScrollParser
 cue httpProxy
 atoms cueAtom urlAtom
 javascript
  buildTxt() {
   return `[http]\n\tproxy = ${this.getAtom(1)}`
  }

gitHttpSslVerifyParser
 extends abstractScrollParser
 cue httpSslVerify
 atoms cueAtom booleanAtom
 javascript
  buildTxt() {
   return `[http]\n\tsslVerify = ${this.getAtom(1)}`
  }

# LFS settings
gitLfsUrlParser
 extends abstractScrollParser
 cue lfsUrl
 atoms cueAtom urlAtom
 javascript
  buildTxt() {
   return `[lfs]\n\turl = ${this.getAtom(1)}`
  }

gitLfsAccessParser
 extends abstractScrollParser
 cue lfsAccess
 atoms cueAtom lfsAccessAtom
 javascript
  buildTxt() {
   return `[lfs]\n\taccess = ${this.getAtom(1)}`
  }

# Color settings
gitColorParser
 extends abstractScrollParser
 cue color
 atoms cueAtom colorSectionAtom colorValueAtom
 javascript
  buildTxt() {
   return `[color]\n\t${this.getAtom(1)} = ${this.getAtom(2)}`
  }

# Custom atom types
remoteNameAtom
 extends stringAtom
 description Name of a git remote like "origin" or "upstream"

aliasNameAtom
 extends stringAtom
 description Short name for a git command

commandAtom
 extends stringAtom
 description Full git command to alias

colorSectionAtom
 enum ui status diff branch
 paint constant

colorValueAtom
 enum auto always never true false
 paint constant

pullOptionAtom
 enum true false only
 paint constant

pushOptionAtom
 enum simple matching upstream current
 paint constant

diffAlgorithmAtom
 enum myers minimal patience histogram
 paint constant

conflictStyleAtom
 enum merge diff3
 paint constant

lfsAccessAtom
 enum basic private
 paint constant

